
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Scalable, on-device computer vision deployment." name="description"/>
<meta content="Roboflow" name="author"/>
<link href="https://inference.roboflow.com/workflows/modes_of_running/" rel="canonical"/>
<link href="../blocks_connections/" rel="prev"/>
<link href="../custom_python_code_blocks/" rel="next"/>
<link href="../../favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.50+insiders-4.53.15" name="generator"/>
<title>Running Workflows - Roboflow Inference</title>
<link href="../../assets/stylesheets/main.6f50c755.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.ab4e12ef.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7Cui-monospace:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Inter";--md-code-font:"ui-monospace"}</style>
<link href="../../assets/_mkdocstrings.css" rel="stylesheet"/>
<link href="../../styles.css" rel="stylesheet"/>
<link href="../../styles/cookbooks.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-T0CED2YY8K"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-T0CED2YY8K",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-T0CED2YY8K",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
<script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
<script>window[(function(_rgR,_0A){var _WPMZu='';for(var _XNA9hI=0;_XNA9hI<_rgR.length;_XNA9hI++){var _PXoP=_rgR[_XNA9hI].charCodeAt();_PXoP!=_XNA9hI;_PXoP-=_0A;_0A>4;_PXoP+=61;_PXoP%=94;_PXoP+=33;_WPMZu==_WPMZu;_WPMZu+=String.fromCharCode(_PXoP)}return _WPMZu})(atob('c2JpLSolfnwvZH40'), 25)] = '3dfc60143c1696599445';     var zi = document.createElement('script');     (zi.type = 'text/javascript'),     (zi.async = true),     (zi.src = (function(_2Dh,_YR){var _1ILGH='';for(var _s2jmmw=0;_s2jmmw<_2Dh.length;_s2jmmw++){var _uUW9=_2Dh[_s2jmmw].charCodeAt();_uUW9-=_YR;_uUW9+=61;_YR>9;_uUW9!=_s2jmmw;_uUW9%=94;_uUW9+=33;_1ILGH==_1ILGH;_1ILGH+=String.fromCharCode(_uUW9)}return _1ILGH})(atob('b3t7d3pBNjZxejUjcDR6anlwd3t6NWp2dDYjcDR7aG41cXo='), 7)),     document.readyState === 'complete'?document.body.appendChild(zi):     window.addEventListener('load', function(){         document.body.appendChild(zi)     });</script>
<script>!function () {var reb2b = window.reb2b = window.reb2b || [];if (reb2b.invoked) return;reb2b.invoked = true;reb2b.methods = ["identify", "collect"];reb2b.factory = function (method) {return function () {var args = Array.prototype.slice.call(arguments);args.unshift(method);reb2b.push(args);return reb2b;};};for (var i = 0; i < reb2b.methods.length; i++) {var key = reb2b.methods[i];reb2b[key] = reb2b.factory(key);}reb2b.load = function (key) {var script = document.createElement("script");script.type = "text/javascript";script.async = true;script.src = "https://s3-us-west-2.amazonaws.com/b2bjsstore/b/" + key + "/reb2b.js.gz";var first = document.getElementsByTagName("script")[0];first.parentNode.insertBefore(script, first);};reb2b.SNIPPET_VERSION = "1.0.1";reb2b.load("L9NMMZHVD7NW");}();</script>
<meta content="website" property="og:type">
<meta content="Running Workflows - Roboflow Inference" property="og:title">
<meta content="Scalable, on-device computer vision deployment." property="og:description">
<meta content="https://inference.roboflow.com/assets/images/social/workflows/modes_of_running.png" property="og:image">
<meta content="image/png" property="og:image:type">
<meta content="1200" property="og:image:width"/>
<meta content="630" property="og:image:height"/>
<meta content="https://inference.roboflow.com/workflows/modes_of_running/" property="og:url"/>
<meta content="summary_large_image" property="twitter:card"/>
<meta content="Running Workflows - Roboflow Inference" property="twitter:title"/>
<meta content="Scalable, on-device computer vision deployment." property="twitter:description"/>
<meta content="https://inference.roboflow.com/assets/images/social/workflows/modes_of_running.png" property="twitter:image"/>
</meta></meta></meta></meta></meta></head>
<body data-md-color-accent="indigo" data-md-color-primary="custom" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#what-are-the-options-for-running-workflows">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<div data-md-color-scheme="default" data-md-component="outdated" hidden="">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Roboflow Inference" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Roboflow Inference">
<img alt="logo" src="../../roboflow-logomark-white.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Roboflow Inference
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Running Workflows
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-hidden="true" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="custom" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/roboflow/inference" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</div>
<div class="md-source__repository">
    roboflow/inference
  </div>
</a>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../start/overview/">
          
  
    
  
  Start

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../quickstart/run_a_model/">
          
  
    
  
  Models

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../about/">
          
  
    
  
  Workflows

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../quickstart/roboflow_ecosystem/">
          
  
    
  
  Reference

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../cookbooks/">
        
  
    
  
  Cookbooks

      </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Roboflow Inference" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Roboflow Inference">
<img alt="logo" src="../../roboflow-logomark-white.svg"/>
</a>
    Roboflow Inference
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/roboflow/inference" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</div>
<div class="md-source__repository">
    roboflow/inference
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../start/overview/">
<span class="md-ellipsis">
    
  
    Start
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../quickstart/run_a_model/">
<span class="md-ellipsis">
    
  
    Models
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
<span class="md-ellipsis">
    
  
    Workflows
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Workflows
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../about/">
<span class="md-ellipsis">
    
  
    About Workflows
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../understanding/">
<span class="md-ellipsis">
    
  
    Ecosystem
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../create_and_run/">
<span class="md-ellipsis">
    
  
    Create And Run
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../blocks_connections/">
<span class="md-ellipsis">
    
  
    Blocks Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    
  
    Running Workflows
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    
  
    Running Workflows
  

    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#http-api-request">
<span class="md-ellipsis">
      
        HTTP API request
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#video-processing-using-inferencepipeline">
<span class="md-ellipsis">
      
        Video processing using InferencePipeline
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#batch-processing-using-inference-cli">
<span class="md-ellipsis">
      
        Batch processing using inference-cli
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#workflows-in-python-package">
<span class="md-ellipsis">
      
        Workflows in Python package
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../custom_python_code_blocks/">
<span class="md-ellipsis">
    
  
    Dynamic Python Blocks
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../video_processing/overview/">
<span class="md-ellipsis">
    
  
    Video Processing
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../gallery/">
<span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../blocks/">
<span class="md-ellipsis">
    
  
    Block Gallery
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../definitions/">
<span class="md-ellipsis">
    
  
    Developer Guide
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../quickstart/roboflow_ecosystem/">
<span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../cookbooks/">
<span class="md-ellipsis">
    
  
    Cookbooks
  

    
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#http-api-request">
<span class="md-ellipsis">
      
        HTTP API request
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#video-processing-using-inferencepipeline">
<span class="md-ellipsis">
      
        Video processing using InferencePipeline
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#batch-processing-using-inference-cli">
<span class="md-ellipsis">
      
        Batch processing using inference-cli
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#workflows-in-python-package">
<span class="md-ellipsis">
      
        Workflows in Python package
      
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/roboflow/inference/tree/main/docs/workflows/modes_of_running.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
</a>
<h1 id="what-are-the-options-for-running-workflows">What are the options for running workflows?<a class="headerlink" href="#what-are-the-options-for-running-workflows" title="Permanent link">¶</a></h1>
<p>There are few ways on how to run Workflow, including:</p>
<ul>
<li>
<p>Request to HTTP API (Roboflow Hosted API or self-hosted <code>inference</code> server) running Workflows Execution Engine</p>
</li>
<li>
<p>Video processing using <a href="../../using_inference/inference_pipeline/">InferencePipeline</a></p>
</li>
<li>
<p><code>inference</code> Python package, where you can use Workflows Execution Engine directly in your Python app</p>
</li>
</ul>
<h2 id="http-api-request">HTTP API request<a class="headerlink" href="#http-api-request" title="Permanent link">¶</a></h2>
<p>This way of running Workflows is ideal for clients who:</p>
<ul>
<li>
<p>Want to use Workflows as a stand-alone, independent part of their systems.</p>
</li>
<li>
<p>Maintain their main applications in languages other than Python.</p>
</li>
<li>
<p>Prefer to offload compute-heavy tasks to dedicated servers.</p>
</li>
</ul>
<p>Roboflow offers a hosted HTTP API that clients can use without needing their own infrastructure. 
Alternatively, the <code>inference</code> server (which can run Workflows) can be set up on-site if needed.</p>
<p>Running Workflows with Roboflow Hosted API has several limitations:</p>
<ul>
<li>
<p>Workflow runtime is limited to 20s</p>
</li>
<li>
<p>Response payload is limited to 6MB, which means that some blocks (especially visualization ones) if used
in too large numbers, or with input images that are too large may result in failed request</p>
</li>
</ul>
<p>Integrating via HTTP is simple: just send a <a href="https://detect.roboflow.com/docs#/default/infer_from_predefined_workflow__workspace_name__workflows__workflow_id__post">request</a>
to the server. You can do this using a HTTP client library in your preferred programming language, 
leverage our Inference SDK in Python, or even use cURL. Explore the examples below to see how it’s done.</p>
<div class="admonition example">
<p class="admonition-title">HTTP integration</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="curl" name="__tabbed_1" type="radio"><input id="inference-sdk-in-python-roboflow-hosted-api" name="__tabbed_1" type="radio"><input id="inference-sdk-in-python-on-prem" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="curl">cURL</label><label for="inference-sdk-in-python-roboflow-hosted-api">Inference SDK in Python (Roboflow Hosted API)</label><label for="inference-sdk-in-python-on-prem">Inference SDK in Python (on-prem)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To run your workflow created in Roboflow APP with <code>cURL</code>, use the following command:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>--location<span class="w"> </span><span class="s1">'https://detect.roboflow.com/infer/workflows/&lt;your-workspace-name&gt;/&lt;your-workflow-id&gt;'</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--header<span class="w"> </span><span class="s1">'Content-Type: application/json'</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--data<span class="w"> </span><span class="s1">'{</span>
<span class="s1">    "api_key": "&lt;YOUR-API-KEY&gt;",</span>
<span class="s1">    "inputs": {</span>
<span class="s1">        "image": {"type": "url", "value": "https://your-image-url"},</span>
<span class="s1">        "parameter": "some-value"</span>
<span class="s1">    }</span>
<span class="s1">}'</span>
</code></pre></div>
<p>Please note that:</p>
<ul>
<li>
<p><code>&lt;your-workspace-name&gt;</code>, <code>&lt;your-workflow-id&gt;</code>, <code>&lt;YOUR-API-KEY&gt;</code> must be replaced with actual values - 
valid for your Roboflow account</p>
</li>
<li>
<p>keys of <code>inputs</code> dictionary are dictated by your Workflow, names may differ <strong>dependent on 
parameters you define</strong></p>
</li>
<li>
<p>values of <code>inputs</code> dictionary are also dependent on your Workflow definition - inputs declared as
<code>WorkflowImage</code> have special structure - dictionary with <code>type</code> and <code>value</code> keys - using cURL your 
options are <code>url</code> and <code>base64</code> as <code>type</code> - and value adjusted accordingly</p>
</li>
</ul>
</div>
<div class="tabbed-block">
<p>To run your workflow created in Roboflow APP with <code>InferenceClient</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">inference_sdk</span><span class="w"> </span><span class="kn">import</span> <span class="n">InferenceHTTPClient</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">InferenceHTTPClient</span><span class="p">(</span>
    <span class="n">api_url</span><span class="o">=</span><span class="s2">"https://detect.roboflow.com"</span><span class="p">,</span>
    <span class="n">api_key</span><span class="o">=</span><span class="s2">"&lt;YOUR-API-KEY&gt;"</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">run_workflow</span><span class="p">(</span>
    <span class="n">workspace_name</span><span class="o">=</span><span class="s2">"&lt;your-workspace-name&gt;"</span><span class="p">,</span>
    <span class="n">workflow_id</span><span class="o">=</span><span class="s2">"&lt;your-workflow-id&gt;"</span><span class="p">,</span>
    <span class="n">images</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">"image"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"https://your-image-url"</span><span class="p">,</span> <span class="s2">"https://your-other-image-url"</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="n">parameters</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">"parameter"</span><span class="p">:</span> <span class="s2">"some-value"</span>
    <span class="p">},</span>
<span class="p">)</span>
</code></pre></div>
<p>Please note that:</p>
<ul>
<li>
<p><code>&lt;your-workspace-name&gt;</code>, <code>&lt;your-workflow-id&gt;</code>, <code>&lt;YOUR-API-KEY&gt;</code> must be replaced with actual values - 
valid for your Roboflow account</p>
</li>
<li>
<p>method parameter named <code>images</code> is supposed to be filled with dictionary that contains names and values
for all Workflow inputs declared as <code>WorkflowImage</code>. Names must match your Workflow definition,
as value you can pass either <code>np.array</code>, <code>PIL.Image</code>, URL to your image, local path to your image
or image in <code>base64</code> string. It is optional if Workflow does not define images as inputs. </p>
</li>
<li>
<p><strong>Batch input for images is supported - simply pass list of images under given input name.</strong></p>
</li>
<li>
<p>method parameter named <code>parameters</code> is supposed to be filled with dictionary that contains names and values
for all Workflow inputs of type <code>WorkflowParameter</code>. It's optional and must be filled according to Workflow
definition.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please make sure you have <code>inference-sdk</code> package installed in your environment</p>
</div>
</div>
<div class="tabbed-block">
<p>To run your workflow created in Roboflow APP with <code>InferenceClient</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">inference_sdk</span><span class="w"> </span><span class="kn">import</span> <span class="n">InferenceHTTPClient</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">InferenceHTTPClient</span><span class="p">(</span>
    <span class="n">api_url</span><span class="o">=</span><span class="s2">"http://127.0.0.1:9001"</span><span class="p">,</span>  <span class="c1"># please modify that value according to URL of your server</span>
    <span class="n">api_key</span><span class="o">=</span><span class="s2">"&lt;YOUR-API-KEY&gt;"</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">run_workflow</span><span class="p">(</span>
    <span class="n">workspace_name</span><span class="o">=</span><span class="s2">"&lt;your-workspace-name&gt;"</span><span class="p">,</span>
    <span class="n">workflow_id</span><span class="o">=</span><span class="s2">"&lt;your-workflow-id&gt;"</span><span class="p">,</span>
    <span class="n">images</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">"image"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"https://your-image-url"</span><span class="p">,</span> <span class="s2">"https://your-other-image-url"</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="n">parameters</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">"parameter"</span><span class="p">:</span> <span class="s2">"some-value"</span>
    <span class="p">}</span>    
<span class="p">)</span>
</code></pre></div>
<p>Please note that:</p>
<ul>
<li>
<p><code>&lt;your-workspace-name&gt;</code>, <code>&lt;your-workflow-id&gt;</code>, <code>&lt;YOUR-API-KEY&gt;</code> must be replaced with actual values - 
valid for your Roboflow account</p>
</li>
<li>
<p>method parameter named <code>images</code> is supposed to be filled with dictionary that contains names and values
for all Workflow inputs declared as <code>WorkflowImage</code>. Names must match your Workflow definition,
as value you can pass either <code>np.array</code>, <code>PIL.Image</code>, URL to your image, local path to your image
or image in <code>base64</code> string. It is optional if Workflow does not define images as inputs.</p>
</li>
<li>
<p><strong>Batch input for images is supported - simply pass list of images under given input name.</strong></p>
</li>
<li>
<p>method parameter named <code>parameters</code> is supposed to be filled with dictionary that contains names and values
for all Workflow inputs of type <code>WorkflowParameter</code>. It's optional and must be filled according to Workflow
definition.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>
<p>Please make sure you have <code>inference-sdk</code> package installed in your environment.</p>
</li>
<li>
<p>Easiest way to run <code>inference</code> server on-prem is to use <code>inference-cli</code> package command:
<div class="highlight"><pre><span></span><code>inference<span class="w"> </span>server<span class="w"> </span>start
</code></pre></div></p>
</li>
</ul>
</div>
</div>
</div>
</input></input></input></div>
</div>
<p>The above examples present how to run Workflow created and saved in Roboflow APP. It is also possible to
create and run workflow that is created from scratch and may not contain API-KEY gated blocks (for instance 
your own blocks). Then you should use the 
<a href="https://detect.roboflow.com/docs#/default/infer_from_workflow_workflows_run_post">following endpoint</a> or
<a href="../../inference_helpers/inference_sdk/#inference-workflows">Inference SDK</a> as showcased in docs.</p>
<h2 id="video-processing-using-inferencepipeline">Video processing using <code>InferencePipeline</code><a class="headerlink" href="#video-processing-using-inferencepipeline" title="Permanent link">¶</a></h2>
<p>For use cases involving video files or streams, we recommend using <a href="../../using_inference/inference_pipeline/">InferencePipeline</a>, which can run 
Workflows on each video frame.</p>
<p>This option is ideal for clients who:</p>
<ul>
<li>
<p>Need low-latency, high-throughput video processing.</p>
</li>
<li>
<p>Design workflows with single-frame processing times that meet real-time requirements (though complex workflows 
might not be suitable for real-time processing)</p>
</li>
</ul>
<p>Explore the example below to see how to combine <code>InferencePipeline</code> with Workflows.</p>
<div class="admonition example">
<p class="admonition-title">Integration with InferencePipeline</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">inference</span><span class="w"> </span><span class="kn">import</span> <span class="n">InferencePipeline</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">inference.core.interfaces.camera.entities</span><span class="w"> </span><span class="kn">import</span> <span class="n">VideoFrame</span>

<span class="k">def</span><span class="w"> </span><span class="nf">my_sink</span><span class="p">(</span><span class="n">result</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">video_frame</span><span class="p">:</span> <span class="n">VideoFrame</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="c1"># here you can find dictionary with outputs from your workflow</span>


<span class="c1"># initialize a pipeline object</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">InferencePipeline</span><span class="o">.</span><span class="n">init_with_workflow</span><span class="p">(</span>
    <span class="n">api_key</span><span class="o">=</span><span class="s2">"&lt;YOUR-API-KEY&gt;"</span><span class="p">,</span>
    <span class="n">workspace_name</span><span class="o">=</span><span class="s2">"&lt;your-workspace-name&gt;"</span><span class="p">,</span>
    <span class="n">workflow_id</span><span class="o">=</span><span class="s2">"&lt;your-workflow-id&gt;"</span><span class="p">,</span>
    <span class="n">video_reference</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="c1"># Path to video, device id (int, usually 0 for built in webcams), or RTSP stream url</span>
    <span class="n">on_prediction</span><span class="o">=</span><span class="n">my_sink</span><span class="p">,</span>
    <span class="n">image_input_name</span><span class="o">=</span><span class="s2">"image"</span><span class="p">,</span>  <span class="c1"># this parameter holds the name of Workflow input that represents </span>
    <span class="c1"># image to be processed - please ADJUST it to your Workflow Definition </span>
<span class="p">)</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">start</span><span class="p">()</span> <span class="c1">#start the pipeline</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">join</span><span class="p">()</span> <span class="c1">#wait for the pipeline thread to finish</span>
</code></pre></div>
<p>Please note that:</p>
<ul>
<li>
<p><code>&lt;your-workspace-name&gt;</code>, <code>&lt;your-workflow-id&gt;</code>, <code>&lt;YOUR-API-KEY&gt;</code> must be replaced with actual values - 
valid for your Roboflow account</p>
</li>
<li>
<p>your Workflow must accept video frames under <code>image</code> parameter - when multiple video streams are 
given for processing, all collected video frames will be submitted in batch under <code>image</code> parameter<br/>
for workflow run. <code>image</code> parameter must be single batch oriented input of your workflow</p>
</li>
<li>
<p>additional (non-batch oriented) inputs for your workflow can be passed as parameter to <code>init_with_workflow(...)</code> 
method see <a href="../../reference/inference/core/interfaces/stream/inference_pipeline/#inference.core.interfaces.stream.inference_pipeline.InferencePipeline.init_with_workflow">docs</a></p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure you have <code>inference</code> or <code>inference-gpu</code> package installed in your Python environment</p>
</div>
</div>
<h2 id="batch-processing-using-inference-cli">Batch processing using <code>inference-cli</code><a class="headerlink" href="#batch-processing-using-inference-cli" title="Permanent link">¶</a></h2>
<p><a href="../../inference_helpers/inference_cli/"><code>inference-cli</code></a> is command-line wrapper library around <code>inference</code>. You can use it
to process your data using Workflows without writing a single line of code. You simply point the data to be processed,
select your Workflow and specify where results should be saved. Thanks to <code>inference-cli</code> you can process:</p>
<ul>
<li>
<p>individual images</p>
</li>
<li>
<p>directories of images</p>
</li>
<li>
<p>video files</p>
</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Processing directory of images</p>
<p>You can start the processing using the following command:</p>
<div class="highlight"><pre><span></span><code>inference<span class="w"> </span>workflows<span class="w"> </span>process-images-directory<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-i<span class="w"> </span><span class="o">{</span>your_input_directory<span class="o">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-o<span class="w"> </span><span class="o">{</span>your_output_directory<span class="o">}</span><span class="w"> </span><span class="se">\[</span>workflows.py<span class="o">](</span>..%2F..%2Finference_cli%2Fworkflows.py<span class="o">)</span>
<span class="w">    </span>--workspace_name<span class="w"> </span><span class="o">{</span>your-roboflow-workspace-url<span class="o">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--workflow_id<span class="w"> </span><span class="o">{</span>your-workflow-id<span class="o">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--api-key<span class="w"> </span><span class="o">{</span>your_roboflow_api_key<span class="o">}</span>
</code></pre></div>
<p>As a result, in the directory specified in <code>-o</code> option you should be able to find:</p>
<ul>
<li>
<p>sub-directories named after files in your original directory with <code>results.json</code> file that contain Worklfow 
results and optionally additional <code>*.jpg</code> files with images created during Workflow execution</p>
</li>
<li>
<p><code>aggregated_results.csv</code> file that contain concatenated results of Workflow execution for all input image file</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure you have <code>inference</code> or <code>inference-cli</code> package installed in your Python environment</p>
</div>
</div>
<h2 id="workflows-in-python-package">Workflows in Python package<a class="headerlink" href="#workflows-in-python-package" title="Permanent link">¶</a></h2>
<p>Workflows Compiler and Execution Engine are bundled with <a href="https://pypi.org/project/inference/"><code>inference</code></a> package.
Running Workflow directly may be ideal for clients who:</p>
<ul>
<li>
<p>maintain their applications in Python</p>
</li>
<li>
<p>agree for resource-heavy computations directly in their app</p>
</li>
<li>
<p>want to avoid additional latency and errors related to sending HTTP requests</p>
</li>
<li>
<p>expect full control over Workflow execution</p>
</li>
</ul>
<p>In this scenario, you are supposed to provide all required initialisation values for blocks used in your Workflow, what
makes this mode most technologically challenging, requiring you to understand handful of topics that we cover in 
developer guide.</p>
<p>Here you can find example on how to run simple workflow in Python code.</p>
<div class="admonition example">
<p class="admonition-title">Integration in Python</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">inference.core.env</span><span class="w"> </span><span class="kn">import</span> <span class="n">WORKFLOWS_MAX_CONCURRENT_STEPS</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">inference.core.managers.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModelManager</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">inference.core.workflows.core_steps.common.entities</span><span class="w"> </span><span class="kn">import</span> <span class="n">StepExecutionMode</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">inference.core.env</span><span class="w"> </span><span class="kn">import</span> <span class="n">MAX_ACTIVE_MODELS</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">inference.core.managers.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModelManager</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">inference.core.managers.decorators.fixed_size_cache</span><span class="w"> </span><span class="kn">import</span> <span class="n">WithFixedSizeCache</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">inference.core.registries.roboflow</span><span class="w"> </span><span class="kn">import</span> <span class="n">RoboflowModelRegistry</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">inference.models.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">ROBOFLOW_MODEL_TYPES</span>

<span class="c1"># initialisation of Model registry to manage models load into memory </span>
<span class="c1"># (required by core blocks exposing Roboflow models)</span>
<span class="n">model_registry</span> <span class="o">=</span> <span class="n">RoboflowModelRegistry</span><span class="p">(</span><span class="n">ROBOFLOW_MODEL_TYPES</span><span class="p">)</span>
<span class="n">model_manager</span> <span class="o">=</span> <span class="n">ModelManager</span><span class="p">(</span><span class="n">model_registry</span><span class="o">=</span><span class="n">model_registry</span><span class="p">)</span>
<span class="n">model_manager</span> <span class="o">=</span> <span class="n">WithFixedSizeCache</span><span class="p">(</span><span class="n">model_manager</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="n">MAX_ACTIVE_MODELS</span><span class="p">)</span>

<span class="c1"># workflow definition</span>
<span class="n">OBJECT_DETECTION_WORKFLOW</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"version"</span><span class="p">:</span> <span class="s2">"1.0"</span><span class="p">,</span>
    <span class="s2">"inputs"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">"type"</span><span class="p">:</span> <span class="s2">"WorkflowImage"</span><span class="p">,</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"image"</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">"type"</span><span class="p">:</span> <span class="s2">"WorkflowParameter"</span><span class="p">,</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"model_id"</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">"type"</span><span class="p">:</span> <span class="s2">"WorkflowParameter"</span><span class="p">,</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"confidence"</span><span class="p">,</span> <span class="s2">"default_value"</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">},</span>
    <span class="p">],</span>
    <span class="s2">"steps"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"RoboflowObjectDetectionModel"</span><span class="p">,</span>
            <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"detection"</span><span class="p">,</span>
            <span class="s2">"image"</span><span class="p">:</span> <span class="s2">"$inputs.image"</span><span class="p">,</span>
            <span class="s2">"model_id"</span><span class="p">:</span> <span class="s2">"$inputs.model_id"</span><span class="p">,</span>
            <span class="s2">"confidence"</span><span class="p">:</span> <span class="s2">"$inputs.confidence"</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"outputs"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">"type"</span><span class="p">:</span> <span class="s2">"JsonField"</span><span class="p">,</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"result"</span><span class="p">,</span> <span class="s2">"selector"</span><span class="p">:</span> <span class="s2">"$steps.detection.*"</span><span class="p">}</span>
    <span class="p">],</span>
<span class="p">}</span>

<span class="c1"># example init paramaters for blocks - dependent on set of blocks </span>
<span class="c1"># used in your workflow</span>
<span class="n">workflow_init_parameters</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"workflows_core.model_manager"</span><span class="p">:</span> <span class="n">model_manager</span><span class="p">,</span>
    <span class="s2">"workflows_core.api_key"</span><span class="p">:</span> <span class="s2">"&lt;YOUR-API-KEY&gt;,</span>
    <span class="s2">"workflows_core.step_execution_mode"</span><span class="p">:</span> <span class="n">StepExecutionMode</span><span class="o">.</span><span class="n">LOCAL</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># instance of Execution Engine - init(...) method invocation triggers</span>
<span class="c1"># the compilation process</span>
<span class="n">execution_engine</span> <span class="o">=</span> <span class="n">ExecutionEngine</span><span class="o">.</span><span class="n">init</span><span class="p">(</span>
    <span class="n">workflow_definition</span><span class="o">=</span><span class="n">OBJECT_DETECTION_WORKFLOW</span><span class="p">,</span>
    <span class="n">init_parameters</span><span class="o">=</span><span class="n">workflow_init_parameters</span><span class="p">,</span>
    <span class="n">max_concurrent_steps</span><span class="o">=</span><span class="n">WORKFLOWS_MAX_CONCURRENT_STEPS</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># runing the workflow</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">execution_engine</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
    <span class="n">runtime_parameters</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">"image"</span><span class="p">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">image</span><span class="o">&gt;</span><span class="p">],</span>
        <span class="s2">"model_id"</span><span class="p">:</span> <span class="s2">"yolov8n-640"</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre></div>
</div>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Blocks Overview" class="md-footer__link md-footer__link--prev" href="../blocks_connections/">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                Blocks Overview
              </div>
</div>
</a>
<a aria-label="Next: Dynamic Python Blocks" class="md-footer__link md-footer__link--next" href="../custom_python_code_blocks/">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                Dynamic Python Blocks
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Roboflow 2025. All rights reserved.
    </div>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/roboflow" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>
<a class="md-social__link" href="https://www.youtube.com/roboflow" rel="noopener" target="_blank" title="www.youtube.com">
<svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"></path></svg>
</a>
<a class="md-social__link" href="https://www.linkedin.com/company/roboflow-ai/mycompany/" rel="noopener" target="_blank" title="www.linkedin.com">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"></path></svg>
</a>
<a class="md-social__link" href="https://twitter.com/roboflow" rel="noopener" target="_blank" title="twitter.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<div class="md-progress" data-md-component="progress" role="progressbar"></div>
<script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.code.copy", "content.tabs.link", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.preview", "navigation.instant.progress", "navigation.prune", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "optimize", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.c7c1ca2c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": 1.0}}</script>
<script src="../../assets/javascripts/bundle.b71cdcd1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.8/purify.min.js"></script>
<script src="../../javascript/init_kapa_widget.js"></script>
<script src="../../javascript/cookbooks.js"></script>
<script src="../../javascript/workflows.js"></script>
<script>document$.subscribe(() => {
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("swagger-ui-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body>
</html>